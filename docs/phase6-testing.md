# フェーズ6: テスト・検証計画

これまでに実装した全ての新機能について、以下のテスト計画に基づき動作テストを実施します。

## 1. 管理画面機能テスト

### 1.1. タグ管理画面 (`member/admin/list-tag.php`, `register-tag.php`, `edit-tag.php`)

-   [ ] タグの新規登録が正しく動作すること。
-   [ ] タグの編集が正しく動作すること。
-   [ ] タグの削除が正しく動作すること（関連コンテンツの有無による影響も確認）。
-   [ ] タグ一覧表示が正しく（名称順などで）表示されること。
-   [ ] 管理画面の他のファイル（`list-content.php`, `list-member.php`など）と同様のスタイルが適用されていること。

### 1.2. コンテンツ登録・編集画面 (`member/admin/register-content.php`, `edit-content.php`)

-   [ ] コンテンツ登録時にタグ選択UIが正しく動作し、複数のタグがコンテンツに関連付けられること。
-   [ ] コンテンツ編集時に既存のタグ情報が正しく表示され、タグの追加・削除・更新が正しく動作すること。
-   [ ] コンテンツ登録時に複数動画登録UIが正しく動作し、動画の追加・削除・表示順序が反映されること。
-   [ ] コンテンツ編集時に既存の動画情報が正しく表示され、動画の追加・削除・更新が正しく動作すること。
-   [ ] コース選択機能が正しく動作し、`target_course`がデータベースに保存・更新されること。
-   [ ] 既存のコンテンツ情報（タイトル、説明、サムネイル、資料など）の登録・更新が問題なく動作すること。
-   [ ] 各UI要素のスタイルが既存の管理画面に統一されていること。

### 1.3. 既存管理画面の回帰テスト

-   [ ] 会員管理 (`list-member.php`, `edit-member.php`など) が問題なく動作すること。
-   [ ] カテゴリー管理 (`list-category.php`, `edit-category.php`など) が問題なく動作すること。
-   [ ] ニュース管理 (`list-news.php`, `edit-news.php`など) が問題なく動作すること。
-   [ ] その他の既存管理機能（サブコンテンツ、お問い合わせ、アップロードなど）が問題なく動作すること。

## 2. 会員画面機能テスト

### 2.1. TOP画面 (`member/index.php`)

-   [ ] ログイン後、会員のコース名、全体の合計コンテンツ数、完了コンテンツ数、完了率が正しく表示されること。
-   [ ] 「進捗詳細を見る」リンクが `member/progress.php` へ正しく遷移すること。
-   [ ] レスポンシブデザインが適切に適用され、モバイル端末で表示が崩れないこと。

### 2.2. 進捗詳細画面 (`member/progress.php`)

-   [ ] 全体の完了率、およびカテゴリーごとの進捗詳細（各コンテンツの完了/未完了状態）が正しく表示されること。
-   [ ] カテゴリーごとのコンテンツリストの展開/格納機能が正しく動作すること。
-   [ ] コンテンツの完了状態がアイコン（✅ / 未完了）で正しく表示されること。
-   [ ] レスポンシブデザインが適切に適用され、モバイル端末で表示が崩れないこと。

### 2.3. コンテンツ詳細画面 (`member/detail.php`)

-   [ ] ログイン中の会員の契約コースとコンテンツの `target_course` に基づき、閲覧権限が正しく判定されること。
-   [ ] 閲覧権限がない場合、コンテンツ内容（動画、資料ダウンロード、完了ボタン、コメントフォームなど）が表示されず、「このコンテンツを閲覧する権限がありません。」というメッセージとトップページへのリンクが表示されること。
-   [ ] 複数動画が登録されているコンテンツの場合、メインプレイヤーとサムネイルリストが表示され、サムネイルクリックで動画が正しく切り替わること。
-   [ ] 動画切り替え時にフェードアニメーションが適用されること。
-   [ ] 講座資料ダウンロードボタン、書き起こし資料ダウンロードボタンが正しく動作すること（権限がある場合）。
-   [ ] 授業完了ボタンが正しく動作し、進捗に反映されること（完了後は「修了済み」表示になること）。
-   [ ] コメント投稿機能が正しく動作すること（権限がある場合）。
-   [ ] レスポンシブデザインが適切に適用され、モバイル端末で表示が崩れないこと。

### 2.4. コンテンツ一覧画面 (`member/list.php`)

-   [ ] ログイン中の会員の契約コースに基づき、表示されるコンテンツが正しくフィルタリングされていること。
-   [ ] 既存のコンテンツ一覧表示が問題なく動作すること。
-   [ ] レスポンシブデザインが適切に適用され、モバイル端末で表示が崩れないこと。

### 2.5. タグ検索画面 (`member/tag-search.php`)

-   [ ] 全てのタグが正しく表示されること。
-   [ ] タグのチェックボックスの選択/解除が正しく動作し、選択状態が視覚的に明確に表示されること。
-   [ ] 「全て選択」ボタンと「全て解除」ボタンが正しく動作すること。
-   [ ] 選択されたタグ（複数可）に基づいてコンテンツが検索され、結果が正しく表示されること。
-   [ ] 検索結果がない場合に「選択されたタグに一致するコンテンツは見つかりませんでした。」というメッセージが表示されること。
-   [ ] レスポンシブデザインが適切に適用され、モバイル端末で表示が崩れないこと。

## 3. システム連携テスト

-   [ ] データベースとの連携（新規テーブルへのデータ登録、既存テーブルの更新など）が全て問題なく動作すること。
-   [ ] ファイルアップロード機能（コンテンツのサムネイル、資料など）が正しく動作すること。
-   [ ] メール送信機能（会員情報送信、お問い合わせなど）が正しく動作すること。
-   [ ] Google Analytics連携が正しく動作すること。
-   [ ] `.env` ファイルからの環境変数読み込みがプロジェクト全体で正しく機能していること。

## 4. パフォーマンステスト・ブラウザ互換性テスト

-   [ ] 主要な画面（TOP、コンテンツ一覧、詳細、タグ検索）で、十分な応答速度が維持されていること。
-   [ ] 主要なブラウザ（Chrome, Firefox, Safari, Edge）で表示や機能が問題なく動作すること。

## 5. 本番環境での動作確認

-   [ ] ステージング環境、または本番環境に近い環境で、上記全ての項目について最終確認を行うこと。
